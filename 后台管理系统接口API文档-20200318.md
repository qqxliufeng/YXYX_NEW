[TOC]



# 后台管理系统接口API文档



**测试服务器IP：118.190.3.78**



## 接口：登录

**描述：**

- 用户登录(根据手机号、密码方式登录，暂时无需验证码)
- 如果登录失败，提示失败原因

**请求URL：**

- http://localhost:8880/doLogin

**请求方式：**

- POST

**请求参数：**

| 参数名称 |  含义  |  类型  | 必选 |
| :------: | :----: | :----: | :--: |
| username | 手机号 | String |  是  |
| password |  密码  | String |  是  |

**返回示例：**

```json
{
    "status": 200,		(成功标识)
    "msg": "登录成功!",	 (成功信息)
    "obj": {	(用户详情信息)
        "userId": 1, (用户ID)
        "roleId": 1, (用户角色ID)
        "userNickName": "超级管理员",(用户昵称)
        "schoolId": 1,(学校ID)
        "isLock": 0,(用户状态：0正常 1禁用)
        "photo": null,(用户头像)
        "phone": "18310141089",(手机号)
        "password": null,(用户密码)
        "sex": 1,(性别 1男 0女)
        "address": null,(家庭住址)
        "note": null,(备注)
        "createId": null,(创建人ID)
        "createTime": "2020-03-09 21:19:50",(创建时间)
        "updateId": null,(修改人ID)
        "updateTime": null,(修改时间)
        "dr": 0,(删除标志：0未删除 1已删除)
		"deptId": 1,(部门ID)
		"isSchoolLeader": 0,(是否校长 0否 1是)
		"isSalesLeader": 0,(是否主管 0否 1是)
        "roles": [(用户角色信息列表)
            {
                "roleId": 1,(角色主键ID)
                "roleName": "超级管理员",(角色名称)
                "roleCode": "ROLE_admin",(角色简称)
                "dr": 0 ,  (删除标志：0未删除 1已删除)
				"deptId": 1 (所属部门ID)
            }
        ],
        "enabled": true,
        "authorities": [
            {
                "authority": "ROLE_admin"
            }
        ],
        "username": null,(用户真实姓名)
        "accountNonLocked": true,
        "credentialsNonExpired": true,
        "accountNonExpired": true,
		"isyxuser":0  是否集团用户 0否 1是
    }
}
```

**返回参数说明：**

- 参见上面返回值说明

**注意事项：**

- 更多返回错误代码请看首页的错误代码描述

## 接口：退出

**描述：**

- 用户退出，退出成功后，跳转到登录页面

**请求URL：**

- http://localhost:8880/logout

**请求方式：**

- GET



## 接口：根据用户角色，查询菜单列表信息

**描述：**

- 用户登录成功后，立即调用此接口，查询对应的菜单列表信息

**请求URL：**

- http://localhost:8880/yx/queryMenusByRoleId

**请求方式：**

- GET

**请求参数：**

- userId：用户主键ID
- roleId：角色主键ID

**返回示例：**

```json
{
    "status": 200,
    "msg": "菜单查询成功",
    "obj": [
        {
            "children": [
                {
                    "children": null,
                    "createId": null,
                    "createTime": "2020-03-15 15:39:23",
                    "dr": 0,
                    "isSelect": false,
                    "menuButtons": [
                        {
                            "buttonCode": "add",
                            "buttonId": 1,
                            "buttonName": "增加",
                            "buttonSequence": 1,
                            "buttonUrl": null,
                            "createId": 1,
                            "createTime": 1585301418000,
                            "dr": 0,
                            "menuId": 2,
                            "select": false,
                            "status": 0,
                            "updateId": null,
                            "updateTime": null
                        },
                        {
                            "buttonCode": "edit",
                            "buttonId": 2,
                            "buttonName": "修改",
                            "buttonSequence": 2,
                            "buttonUrl": null,
                            "createId": 1,
                            "createTime": 1585301419000,
                            "dr": 0,
                            "menuId": 2,
                            "select": false,
                            "status": 0,
                            "updateId": null,
                            "updateTime": null
                        }
                    ],
                    "menuId": 2,
                    "menuName": "集团用户管理",
                    "menuSequence": 1,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false,
                    "updateId": null,
                    "updateTime": null
                },
                {
                    "children": null,
                    "createId": null,
                    "createTime": "2020-03-15 15:39:31",
                    "dr": 0,
                    "isSelect": false,
                    "menuButtons": [],
                    "menuId": 3,
                    "menuName": "部门管理",
                    "menuSequence": 2,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false,
                    "updateId": null,
                    "updateTime": null
                },
                {
                    "children": null,
                    "createId": null,
                    "createTime": "2020-03-15 15:44:28",
                    "dr": 0,
                    "isSelect": false,
                    "menuButtons": [],
                    "menuId": 6,
                    "menuName": "学习卡管理",
                    "menuSequence": 5,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false,
                    "updateId": null,
                    "updateTime": null
                }
            ],
            "createId": null,
            "createTime": "2020-03-12 18:46:21",
            "dr": 0,
            "isSelect": false,
            "menuButtons": [],
            "menuId": 1,
            "menuName": "系统管理",
            "menuSequence": 1,
            "menuUrl": null,
            "parentMenuId": null,
            "roles": null,
            "select": false,
            "updateId": null,
            "updateTime": null
        }
    ]
}
```



## 系统管理(完成未测试)

### 集团用户管理

#### 接口：查询集团用户列表数据(支持分页)

**描述：**

- 分页查询集团下的用户数据

**请求URL：**

- http://localhost:8880/yx/queryYouXingUserList

**请求方式：**

- GET

**请求参数：**

- pageNum : 页码——必输项，页码下标从0开始
- pageSize：每页请求个数——必输项

**返回示例：**

```json
{
    "status": 200,
    "msg": "集团用户查询成功",
    "obj": [
        {
            "accountNonExpired": true,
            "accountNonLocked": true,
            "address": null,
            "authorities": [
                {
                    "authority": "ROLE_admin"
                }
            ],
            "createId": 1,
            "createTime": "2020-03-09 21:19:50",
            "credentialsNonExpired": true,
            "dept": {
                "createId": 1,
                "createTime": "2020-03-13 21:30:49",
                "deptCode": null,
                "deptId": 1,
                "deptName": "超级管理",
                "dr": 0,
                "status": 0,
                "updateId": null,
                "updateTime": null
            },
            "deptId": 1,
            "dr": 0,
            "enabled": true,
            "isLock": 0,
            "isSalesLeader": 0,
            "isSchoolLeader": 0,
            "note": null,
            "phone": "18310141089",
            "photo": null,
            "roleId": 1,
            "roles": [
                {
                    "deptId": null,
                    "dr": 0,
                    "roleCode": "ROLE_admin",
                    "roleId": 1,
                    "roleName": "超级管理员"
                }
            ],
            "schoolId": null,
            "sex": 1,
            "updateId": null,
            "updateTime": null,
            "userId": 1,
            "userNickName": "超级管理员",
            "username": "admin",
            "isyxuser":0  是否集团用户 0否 1是
        }
    ]
}
```





#### 接口：模糊查询

**描述：**

- 根据用户名、手机号模糊搜索用户信息

**请求URL**

- http://localhost:8880/yx/queryYouXingUserListByLike

**请求方式：**

- GET

**请求参数：**

- userNameOrPhone   （用户名/手机号，非必输项）
- pageNum  (请求页码，必输项)
- pageSize （请求个数，必输项）
- 如果参数为空，则默认查询所有，调用上一个接口即可

**返回示例：**

- 参考上一个接口



#### 接口：保存用户数据

**描述：**

- 保存用户数据
- 手机号必输
- 密码默认为手机号后6位
- 用户头像暂时不处理

**请求URL：**

- http://localhost:8880/yx/saveUser

**请求方式：**

- POST

**请求参数：**

```json
deptId          部门ID                              
roleId          用户角色ID                        
isSchoolLeader  是否校长 0否 1是                
isSalesLeader   是否主管 0否 1是                
userName        用户真实姓名                    
userNickName    用户昵称                          
schoolId        所属学校ID                        
isLock          用户状态：0正常 1禁用        
photo           用户头像                          
phone           手机号                             
password        用户密码                          
sex             性别 1男 0女                      
address         家庭住址                          
note            备注
isyxuser        是否集团用户 0否 1是
```

**返回示例：**

```json
{
    "status": 200,
    "msg": "用户保存成功",
    "obj": null
}
```





#### 接口：修改用户数据

**描述：**

- 修改用户数据
- 需要传入被修改用户的主键ID
- 手机号不允许修改，如需修改，请联系管理员

**请求URL：**

- http://localhost:8880/yx/updateUser

**请求方式：**

- POST

**请求参数：**

```
deptId          部门ID                              
roleId          用户角色ID                        
isSchoolLeader  是否校长 0否 1是                
isSalesLeader   是否主管 0否 1是                
userName        用户真实姓名                    
userNickName    用户昵称                          
schoolId        所属学校ID                        
isLock          用户状态：0正常 1禁用        
photo           用户头像                                                               
sex             性别 1男 0女                      
address         家庭住址                          
note            备注
isyxuser        是否集团用户 0否 1是
```

**返回示例：**

```
{
    "status": 200,
    "msg": "用户修改成功",
    "obj": null
}
```



#### 接口：删除用户数据（支持批量删除）

**描述：**

- 删除用户数据
- 支持批量删除

**请求URL：**

- http://localhost:8880/yx/deleteUsers

**请求方式：**

- POST

**请求参数：**

- userIds  用户主键ID，多个用逗号隔开，必输项，字符串类型
- 例如：userIds=1,2,3,4,5,6

**返回示例：**

```json
{
    "status": 200,
    "msg": "用户删除成功",
    "obj": null
}
```



#### 接口：重置密码

**描述：**

- 管理员重新设置用户密码

**请求URL：**

- http://localhost:8880/yx/editPassword

**请求方式：**

- POST

**请求参数：**

- userId 用户主键ID，必输项
- newPassword 新密码，必输项

**返回示例：**

```json
{
    "status": 200,
    "msg": "密码重置成功",
    "obj": null
}
```



#### 接口：根据部门ID，查询部门下所有的角色信息

**描述：**

- 根据部门ID，查询部门下所有的角色信息

**请求URL：**

- http://localhost:8880/yx/queryRolesByDeptId

**请求方式：**

- GET

**请求参数：**

- deptId：部门主键ID，必输项

**返回示例：**

```json

```



#### 接口：查询手机号是否存在(集团用户、老师)

**描述：**

- 查询手机号是否存在(集团用户、老师)

**请求URL：**

- http://localhost:8880/yx/queryUserPhoneIsExit

**请求方式：**

- GET

**请求参数：**

- phone：手机号

**返回示例：**

```json

```



### 部门管理

#### 接口：查询所有部门信息(支持分页)

**描述：**

- 查询所有部门信息
- 支持分页查询

**请求URL：**

- http://localhost:8880/yx/queryDepts

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```json
{
    "status": 200,
    "msg": "部门信息查询成功",
    "obj": [
        {
            "createId": 1, (创建人ID)
            "createTime": "2020-03-13 21:30:49",(创建时间)
            "deptCode": null,(部门编码)
            "deptId": 1,(部门主键ID)
            "deptName": "超级管理",(部门名称)
            "dr": 0,(删除标识 0未删除 1已删除)
            "status": 0,(状态 0正常 1已删除)
            "updateId": null,(修改人ID)
            "updateTime": null(修改时间)
        },
        {
            "createId": 1,
            "createTime": "2020-03-13 21:30:52",
            "deptCode": null,
            "deptId": 2,
            "deptName": "总经理",
            "dr": 0,
            "status": 0,
            "updateId": null,
            "updateTime": null
        }
    ]
}
```



#### 接口：保存部门信息

**描述：**

- 保存部门信息

**请求URL：**

- http://localhost:8880/yx/saveDept

**请求方式：**

- POST

**请求参数：**

```
deptName      部门名称                        
parentDeptId  上一级部门ID                   
deptCode      部门编码                        
status        部门状态 0正常 1禁用                                                       
```

**返回示例：**

```json
{
    "status": 200,
    "msg": "部门保存成功",
    "obj": null
}
```



#### 接口：修改部门信息

**描述：**

- 修改部门信息

**请求URL：**

- http://localhost:8880/yx/updateDept

**请求方式：**

- POST

**请求参数：**

```
deptId        部门主键ID       必输项               
deptName      部门名称                        
parentDeptId  上一级部门ID                   
deptCode      部门编码                        
status        部门状态 0正常 1禁用        
```

**返回示例：**

```json
{
    "status": 200,
    "msg": "部门修改成功",
    "obj": null
}
```



#### 接口：删除部门信息

**描述：**

- 删除部门信息，支持批量删除

**请求URL：**

- http://localhost:8880/yx/deleteDepts

**请求方式：**

- POST

**请求参数：**

- deptIds  部门主键ID，多个用逗号隔开，必输项，字符串类型
- 例如：deptIds  = 1,2,3,4,5,6

**返回示例：**

```json
{
    "status": 200,
    "msg": "部门删除成功",
    "obj": null
}
```



### 角色管理

#### 接口：查询角色信息列表(支持分页)

**描述：**

- 查询所有角色信息
- 支持分页查询

**请求URL：**

- http://localhost:8880/yx/queryRoles

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```json
{
    "status": 200,
    "msg": "角色信息查询成功",
    "obj": [
        {
            "createId": null,(创建人ID)
            "createTime": "2020-03-17 08:53:52",(创建时间)
            "deptId": null,(部门主键ID)
            "dr": 0,(删除标志 0未删除 1已删除)
            "roleCode": "ROLE_admin",(角色编码)
            "roleId": 1,(角色主键ID)
            "roleName": "超级管理员",(角色名称)
            "updateId": null,(修改人主键ID)
            "updateTime": null(修改时间)
        },
        {
            "createId": null,
            "createTime": "2020-03-17 08:53:52",
            "deptId": null,
            "dr": 0,
            "roleCode": "ROLE_jyzg",
            "roleId": 2,
            "roleName": "教研主管",
            "updateId": null,
            "updateTime": null
        }
    ]
}
```

#### 接口：保存角色信息

**描述：**

- 保存角色信息

**请求URL：**

- http://localhost:8880/yx/saveRole

**请求方式：**

- POST

**请求参数：**

```
roleName    角色名称                        
roleCode    角色简称                        
deptId      角色所属部门ID
```



**返回示例：**

```json
{
    "status": 200,
    "msg": "角色保存成功",
    "obj": null
}
```



#### 接口：修改角色信息

**描述：**

- 修改角色信息

**请求URL：**

- http://localhost:8880/yx/updateRole

**请求方式：**

- POST

**请求参数：**

```
roleId      角色主键ID       必输项               
roleName    角色名称                        
roleCode    角色简称                        
deptId      角色所属部门ID
```

**返回示例：**

```json
{
    "status": 200,
    "msg": "角色修改成功",
    "obj": null
}
```



#### 接口：删除角色信息

**描述：**

- 删除角色信息，不支持批量删除

**请求URL：**

- http://localhost:8880/yx/deleteRole

**请求方式：**

- POST

**请求参数：**

- roleId   角色主键ID

**返回示例：**

```json
{
    "status": 200,
    "msg": "角色删除成功",
    "obj": null
}
```



#### 接口：为角色分配菜单权限

**描述：**

- 选中某一个角色
- 弹框展示所有菜单信息(按照等级展示)，之前已经分配过的菜单，需要自动打勾，没有分配过的，无需打勾，接口参考下一个接口
- 用户自定义选择菜单信息
- 保存新的角色对应菜单关系

**请求URL：**

- http://localhost:8880/yx/saveRoleMenus

**请求方式：**

- POST

**请求参数：**

```
roleId      角色ID      
menuIds      菜单IDS,多个菜单的主键ID，用逗号隔开，例如：1,2,3,4，如果全部取消，则传空null即可
```

**返回示例：**

```json
{
    "status": 200,
    "msg": "角色菜单关系分配成功",
    "obj": null
}
```



#### 接口：根据角色ID，展示所有菜单信息，并且判断菜单是否分配

**描述：**

- 查询所有的菜单信息
- 按照等级展示
- 根据角色ID，判断哪些菜单之前已经分配过权限，并自动打勾

**请求URL：**

- http://localhost:8880/yx/queryAllMenuByRole

**请求方式：**

- GET

**请求参数：**

- roleId   角色主键ID，必输项

**返回示例：**

```json
{
    "status": 200,
    "msg": "查询成功",
    "obj": [
        {
            "children": [
                {
                    "children": null,
                    "createTime": "2020-03-15 15:39:39",
                    "dr": 0,
                    "isSelect": true,
                    "menuId": 4,
                    "menuName": "角色管理",
                    "menuSequence": 3,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": true （是否选中打勾）
                },
                {
                    "children": null,
                    "createTime": "2020-03-15 15:39:49",
                    "dr": 0,
                    "isSelect": false,
                    "menuId": 5,
                    "menuName": "菜单管理",
                    "menuSequence": 4,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false
                }
            ],
            "createTime": "2020-03-12 18:46:21",
            "dr": 0,
            "isSelect": true,
            "menuId": 1,
            "menuName": "系统管理",
            "menuSequence": 1,
            "menuUrl": null,
            "parentMenuId": null,
            "roles": null,
            "select": true
        }
    ]
}
```



### 菜单管理

#### 接口：查询菜单列表信息(按照等级展示)

**描述：**

- 查询所有的菜单信息
- 按照等级展示

**请求URL：**

- http://localhost:8880/yx/queryAllMenu

**请求方式：**

- GET

**请求参数：**

- 无

**返回示例：**

```json
{
    "status": 200,
    "msg": "查询成功",
    "obj": [
        {
            "children": [
                {
                    "children": null,
                    "createTime": "2020-03-15 15:39:23",
                    "dr": 0,
                    "isSelect": false,
                    "menuId": 2,
                    "menuName": "集团用户管理",
                    "menuSequence": 1,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false
                },
                {
                    "children": null,
                    "createTime": "2020-03-15 15:39:31",
                    "dr": 0,
                    "isSelect": false,
                    "menuId": 3,
                    "menuName": "部门管理",
                    "menuSequence": 2,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false
                },
                {
                    "children": null,
                    "createTime": "2020-03-15 15:39:39",
                    "dr": 0,
                    "isSelect": false,
                    "menuId": 4,
                    "menuName": "角色管理",
                    "menuSequence": 3,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false
                },
                {
                    "children": null,
                    "createTime": "2020-03-15 15:39:49",
                    "dr": 0,
                    "isSelect": false,
                    "menuId": 5,
                    "menuName": "菜单管理",
                    "menuSequence": 4,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false
                },
                {
                    "children": null,
                    "createTime": "2020-03-15 15:44:28",
                    "dr": 0,
                    "isSelect": false,
                    "menuId": 6,
                    "menuName": "学习卡管理",
                    "menuSequence": 5,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false
                },
                {
                    "children": null,
                    "createTime": "2020-03-15 15:44:30",
                    "dr": 0,
                    "isSelect": false,
                    "menuId": 7,
                    "menuName": "意见反馈",
                    "menuSequence": 6,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false
                },
                {
                    "children": null,
                    "createTime": "2020-03-15 15:44:32",
                    "dr": 0,
                    "isSelect": false,
                    "menuId": 8,
                    "menuName": "日志管理",
                    "menuSequence": 7,
                    "menuUrl": null,
                    "parentMenuId": 1,
                    "roles": null,
                    "select": false
                }
            ],
            "createTime": "2020-03-12 18:46:21",
            "dr": 0,
            "isSelect": false,
            "menuId": 1,
            "menuName": "系统管理",
            "menuSequence": 1,
            "menuUrl": null,
            "parentMenuId": null,
            "roles": null,
            "select": false
        }
    ]
}
```

#### 接口：保存菜单信息

**描述：**

- 保存菜单信息

**请求URL：**

- http://localhost:8880/yx/saveMenu

**请求方式：**

- POST

**请求参数：**

```
parentMenuId  上级菜单ID                     
menuName      菜单名称                       
menuUrl       菜单URL                          
menuSequence  菜单顺序号
```

**返回示例：**

```json
{
    "status": 200,
    "msg": "菜单保存成功",
    "obj": null
}
```



#### 接口：修改菜单信息

**描述：**

- 修改菜单信息

**请求URL：**

- http://localhost:8880/yx/updateMenu

**请求方式：**

- POST

**请求参数：**

```
menuId		  菜单主键ID，必输项
parentMenuId  上级菜单ID                     
menuName      菜单名称                       
menuUrl       菜单URL                          
menuSequence  菜单顺序号   
```

**返回示例：**

```json
{
    "status": 200,
    "msg": "菜单修改成功",
    "obj": null
}
```



#### 接口：删除菜单信息

**描述：**

- 删除菜单信息，不支持批量删除
- 已经分配过角色的菜单，不允许删除

**请求URL：**

- http://localhost:8880/yx/deleteMenu

**请求方式：**

- POST

**请求参数：**

- menuId  菜单主键ID

**返回示例：**

```json
{
    "status": 200,
    "msg": "菜单修改成功",
    "obj": null
}
或者
{
    "status": 500,
    "msg": "当前菜单不允许删除，请取消权限分配",
    "obj": null
}
```



### 按钮管理

**描述：**

- 按钮是**分配到用户**身上的，并不是分配到角色中
- 如果用户需要有某个按钮的权限，则必须给用户分配当前菜单

#### 接口1：查询某个菜单下的所有按钮

**描述：**

- 查询菜单下的所有按钮信息

**请求URL：**

- http://localhost:8880/yx/queryAllButtonInMenu

**请求方式：**

- GET

**请求参数：**

- menuId：菜单主键ID，必输项

**返回示例：**

```

```



#### 接口2：为某个菜单添加按钮，保存按钮

**描述：**

- 选中菜单后，为菜单下添加对应的按钮
- 保存按钮

**请求URL：**

- http://localhost:8880/yx/saveMenuButton

**请求方式：**

- POST

**请求参数：**

- menuId：菜单主键ID
- buttonName：按钮名称
- buttonCode：按钮编码
- buttonSequence：按钮顺序
- buttonUrl：按钮URL

**返回示例：**

```

```



#### 接口3：删除某个菜单下的按钮

**描述：**

- 删除菜单下的按钮
- 如果按钮已经分配到用户下，则不允许删除

**请求URL：**

- http://localhost:8880/yx/deleteMenuButton

**请求方式：**

- POST

**请求参数：**

- buttonId：按钮主键ID，必输项

**返回示例：**

```

```





#### 接口4：修改某个按钮信息

**描述：**

- 修改按钮信息
- 只能修改按钮名称、按钮编码、按钮URL、按钮顺序

**请求URL：**

- http://localhost:8880/yx/updateMenuButton

**请求方式：**

- POST

**请求参数：**

- buttonId：按钮主键ID 
- buttonName：按钮名称
- buttonCode：按钮编码
- buttonSequence：按钮顺序
- buttonUrl：按钮URL

**返回示例：**

```

```



#### 接口5：查询所有用户信息(不区分是否集团)，支持分页

**描述：**

- 查询所有的用户信息(集团、老师)
- 支持分页

**请求URL：**

- http://localhost:8880/yx/queryAllUser

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```

```





#### 接口6：模糊查询用户信息(姓名、手机号)

**描述：**

- 在用户信息列表的页面或者弹框中，增加搜索框，支持模糊搜索
- 搜索条件：姓名或者手机号

**请求URL：**

- http://localhost:8880/yx/queryAllUserLike

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- likeName：用户名或者手机号

**返回示例：**

```

```



#### 接口7：根据选择用户角色ID，查询用户分配过的菜单、按钮列表

**描述：**

- 根据选择的用户ID，角色ID，查询用户之前分配过的菜单列表
- 每个菜单下所有的按钮都需要展示
- 如果之前已经分配过的按钮，则需要自动打勾

**请求URL：**

- http://localhost:8880/yx/queryMenuAndButtonByUser

**请求方式：**

- GET

**请求参数：**

- userId：所选用户的主键ID
- roleId：所选用户的角色主键ID

**返回示例：**

```

```



#### 接口8：按钮分配

**描述：**

- 点击【按钮分配】、弹框或者页面跳转
- 选择用户(接口5、6)，下一步
- 选择菜单(接口7)，选择对应的按钮，打勾操作（打勾或者取消打勾、分配或者取消分配操作）
- 然后保存分配

**请求URL：**

- http://localhost:8880/yx/grantButtonToUser

**请求方式：**

- POST

**请求参数：**

- menuId：菜单主键ID
- buttonIds：按钮ID，多个按钮，则主键ID用逗号隔开即可，例如：buttonIds = 1,2,3,4,5
- userId：用户主键ID

**返回示例：**

```

```



### 学习卡管理

#### 接口：查询所有学习卡信息(支持分页)

**描述：**

- 查询所有学习卡信息(支持分页)

**请求URL：**

- http://localhost:8880/yx/queryStudyCard

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```json
{
    "status": 200,
    "msg": "学习卡信息查询成功",
    "obj": [
        {
            "activateCode": null,激活账号
            "cardCode": "00000001",学习卡编码
            "cardErcode": "sdfzfwre4324235adf",学习卡二维码
            "cardSchoolId": 1,授权学校ID
            "cardType": "P",学习卡类型，P小学正式卡  TP小学体验卡 M初中正式卡 TM初中体验卡  
            "createId": 1,创建人ID
            "createTime": "2020-03-17 16:24:30", 创建时间
            "dr": 0, 删除标志
            "endTime": null,到期日期
            "isBind": 0,是否绑定 0未绑定 1已绑定
            "status": 0, 学习卡状态 0未分配教材 1已分配教材 2未激活 3已激活 4已到期
            "studyCardId": 1, 学习卡主键ID
            "updateId": null, 修改人ID
            "updateTime": null, 修改时间
            "validityMonth": 1 学习卡有效期 eg：6代表6个月
        }
    ]
}
```



#### 接口：模糊搜索学习卡信息

**描述：**

- 根据学习卡编码、状态、是否绑定进行模糊搜索

**请求URL：**

- http://localhost:8880/yx/queryStudyCardLike

**请求方式：**

- GET

**请求参数：**

- cardCode   学习卡编码
- status         学习卡状态 0未激活 1已激活 2已到期
- isBind         是否绑定 0未绑定 1已绑定
- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```json
{
    "status": 200,
    "msg": "学习卡信息搜素成功",
    "obj": [
        {
            "activateCode": null,
            "cardCode": "00000001",
            "cardErcode": "sdfzfwre4324235adf",
            "cardSchoolId": 1,
            "cardType": "P",
            "createId": 1,
            "createTime": "2020-03-17 16:24:30",
            "dr": 0,
            "endTime": null,
            "isBind": 0,
            "status": 0,
            "studyCardId": 1,
            "updateId": null,
            "updateTime": null,
            "validityMonth": 1
        }
    ]
}
```



#### 接口：批量生成学习卡信息

**描述：**

- 点击【批量生成学习卡】按钮
- 弹框填写信息，输入：单选
  - 选择学习卡类型：P小学正式卡、TP小学体验卡、M初中正式卡、TM初中体验卡
  - 数量：N张
- 点击弹框中【生成】按钮
- 后台接收参数，匹配数据库学习卡编码最大值，继续增值保存
- 学习卡编码 = 学习卡类型代码+数据库学习卡编码

**请求URL：**

- http://localhost:8880/yx/saveStudyCard

**请求方式：**

- POST

**请求参数：**

- cardType    			学习卡类型，必输项
- studyCardNum      学习卡数量，必输项
- validityMonth        学习卡有效期，必输项，最小值1，正整数，单位：月

**返回示例：**

```json
{
    "status": 200,
    "msg": "学习卡生成成功",
    "obj": null
}
```



#### 接口：批量下载学习卡信息(excel)

**描述：**

- 把学习卡信息，导出到excel中(批量导出)
- 导出字段
  - 学习卡编码(学习卡编码 = 学习卡类型代码+数据库学习卡编码)
  - 学习卡二维码

**请求URL：**

- http://localhost:8880/yx/uploadStudyCardExcel

**请求方式：**

- POST

**请求参数：**

- studyCardIds  学习卡主键ID，多条数据主键中间用逗号隔开，eg：1,2,3,4

**返回示例：**

- 参考下载的excel



#### 接口：查询所有教材信息列表(并返回是否已经为该学习卡授权)

**描述：**

- 为学习卡重新分配教材使用

- 查询所有教材信息列表
- 并判断当前教材是否分配过学习卡

**请求URL：**

- http://localhost:8880/yx/queryAllTextBookAndStudyCard

**请求方式：**

- GET

**请求参数：**

- studyCardId：学习卡主键ID

**返回示例：**

```
返回的教材信息中，如果studyCardCreateId字段不为空，则说明当前教材已经分配到当前学习卡
```



#### 接口：查询学习卡授权的教材

**描述：**

- 查询学习卡授权的教材信息

**请求URL：**

- http://localhost:8880/yx/queryTextBookByStudyCardId

**请求方式：**

- GET

**请求参数：**

- studyCardId：学习卡主键ID

**返回示例：**

```

```



#### 接口：为学习卡分配教材

**描述：**

- 学校老师，每个学习卡只能分配2本教材
- 管理员可以分配多个
- 已经激活的学习卡不能编辑分配教材

**请求URL：**

- http://localhost:8880/yx/studyCardAssignedTextBook

**请求方式：**

- POST

**请求参数：**

- studyCardId：学习卡主键ID
- cardCode：学习卡编码
- cardErcode：学习卡二维码
- textBookIds：教材主键ID，如果是多个，主键ID之间用逗号隔开
  - 例如：textBookIds = 1,2,3,4,5
- userId：当前登录用户主键ID
- roleCode：当前登录用户角色编码(ROLE_开头的)

**返回示例：**

```

```



#### 接口：修改学习卡信息

**描述：**

- 已激活、已到期状态的学习卡，只能修改到期时间
- 未激活状态的学习卡，可以编辑教材
  - 学校加盟老师，一个学习卡最多分配2本教材

**请求URL：**

- http://localhost:8880/yx/editStudyCardInfo

**请求方式：**

- POST

**请求参数：**

- studyCardId  ：学习卡主键ID
- statu：学习卡状态
- endTime ：学习卡到期时间(字符串类型即可，格式为：2020-03-18)

**返回示例：**

```json
{
    "status": 200,
    "msg": "学习卡修改成功",
    "obj": null
}
```







### 意见反馈

#### 接口：查询所有意见反馈信息，支持分页

**描述：**

- 查询所有意见反馈信息，支持分页

**请求URL：**

- http://localhost:8880/yx/queryAllFeedBackList

**请求方式：**

- GET

**请求参数：**

- pageNum
- pageSize
- roleId

**返回示例：**

```json

```



#### 接口：回复反馈信息

**描述：**

- 回复反馈信息

**请求URL：**

- http://localhost:8880/yx/saveFeedBackReply

**请求方式：**

- POST

**请求参数：**

- pageNum
- pageSize
- userId: 用户id

**返回示例：**

```json

```

#### 接口：根据意见反馈的主键，查询沟通回复记录

**描述：**

- 根据意见反馈的主键，查询沟通回复记录

**请求URL：**

- http://localhost:8880/yx/queryFeedBackReplyList

**请求方式：**

- GET

**请求参数：**

- pageNum:  分页数
- pageSize: 每页数
- feedbackId:  反馈id
- roleId: 角色id
- userId : 用户id

**返回示例：**

```json

```



### 日志管理

#### 接口：查询用户操作日志，所有，支持分页

**描述：**

- 查询用户操作日志，所有，支持分页

**请求URL：**

- http://localhost:8880/yx/queryUserLogs

**请求方式：**

- GET

**请求参数：**

- pageNum
- pageSize

**返回示例：**

```json

```



#### 接口：根据用户主键ID，查询用户操作日志，所有，支持分页

**描述：**

- 根据用户主键ID，查询用户操作日志，所有，支持分页

**请求URL：**

- http://localhost:8880/yx/queryUserLogsByUserId

**请求方式：**

- GET

**请求参数：**

- pageNum
- pageSize
- userId

**返回示例：**

```json

```

### 版本管理

#### 接口：查询终端信息，支持分页

**描述：**

- 查询终端信息，支持分页

**请求URL：**

- http://localhost:8880/yx/queryAppVersionList   

**请求方式：**

- GET

**请求参数：**

- pageNum
- pageSize

**返回示例：**

```json

```



#### 接口：根据终端类型，过滤查询，支持分页

**描述：**

- 根据终端类型，过滤查询，支持分页

**请求URL：**

- http://localhost:8880/yx/queryAppVersionListLike

**请求方式：**

- GET

**请求参数：**

- pageNum
- pageSize

**返回示例：**

```json

```



#### 接口：上传终端资源包

**描述：**

- 上传终端资源包

**请求URL：**

- http://localhost:8880/yx/uploadAppVersionFile

**请求方式：**

- POST

**请求参数：**

- appVersionFile: 上传文件

**返回示例：**

```json

```



#### 接口：增加保存终端版本信息

**描述：**

- 增加保存终端版本信息

**请求URL：**

- http://localhost:8880/yx/saveAppVersion

**请求方式：**

- POST

**请求参数：**

- terminalType 终端类型
- versionNo  版本号
- terminalUrl  版本下载地址
- isUpgrade  是否强制升级
- versionStatus   发布状态 0未上架 1已上架
- upgradePoint  升级提示

**返回示例：**

```json

```



#### 接口：发布终端版本信息

**描述：**

- 发布终端版本信息

**请求URL：**

- http://localhost:8880/yx/sendAppVersion

**请求方式：**

- POST

**请求参数：**

- versionId 版本id

**返回示例：**

```json

```



#### 接口：下架终端版本信息

**描述：**

- 下架终端版本信息

**请求URL：**

- http://localhost:8880/yx/upAppVersion

**请求方式：**

- POST

**请求参数：**

- versionId 版本id

**返回示例：**

```json

```

### 定时任务

#### 接口：查询定时任务，支持分页

**描述：**

- 查询定时任务，支持分页

**请求URL：**

- http://localhost:8880/yx/queryjob

**请求方式：**

- GET

**请求参数：**

- pageNum
- pageSize

**返回示例：**

```json

```

#### 接口：增加定时任务

**描述：**

- 增加定时任务

**请求URL：**

- http://localhost:8880/yx/insert

**请求方式：**

- GET

**请求参数：**

- jobClassName定时任务类名
- jName任务名称
- jGroup任务组
- tName触发器名称
- tGroup触发器组
- croncron表达式

**返回示例：**

```json

```

#### 接口：暂停定时任务

**描述：**

- 暂停定时任务

**请求URL：**

- http://localhost:8880/yx/pause

**请求方式：**

- GET

**请求参数：**

- jName任务名称
- jGroup任务组

**返回示例：**

```json

```

#### 接口：继续定时任务

**描述：**

- 继续任务

**请求URL：**

- http://localhost:8880/yx/resume

**请求方式：**

- GET

**请求参数：**

- jName任务名称
- jGroup任务组

**返回示例：**

```json

```



#### 接口：删除定时任务

**描述：**

- 删除定时任务

**请求URL：**

- http://localhost:8880/yx/delete

**请求方式：**

- GET

**请求参数：**

- jName任务名称
- jGroup任务组

**返回示例：**

```json

```





## 消息管理

### 集团消息

### 学校消息

### 系统消息

#### 接口：查询系统消息(管理员、学校)

**描述：**查询系统消息(管理员、学校)

**请求URL：**

- http://localhost:8880/yx/querySystemMessage 

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- roleId
- schoolId

**返回示例：**

```json

```



#### 接口：查询消息发送的对象信息(学校、班级、个人)

**描述：**查询消息发送的对象信息(学校、班级、个人)

**请求URL：**

- http://localhost:8880/yx/querySystemMessageToList

**请求方式：**

- GET

**请求参数：**

- sendType
- messageId

**返回示例：**

```json

```

#### 接口：保存系统消息

**描述：**保存系统消息

**请求URL：**

- http://localhost:8880/yx/saveSystemMessage 

**请求方式：**

- POST

**请求参数：**

- sendType
- messageId

**返回示例：**

```json

```

#### 接口：撤回系统消息

**描述：**保存系统消息

**请求URL：**

- http://localhost:8880/yx/withdrawSystemMessage  

**请求方式：**

- POST

**请求参数：**

- messageId

**返回示例：**

```json

```

#### 接口：发布系统消息

**描述：**发布系统消息

**请求URL：**

- http://localhost:8880/yx/sendSystemMessage  

**请求方式：**

- POST

**请求参数：**

- messageId

**返回示例：**

```json

```

#### 

## 会员管理(完成未测试)

### 学校管理

#### 接口：查询学校信息(支持分页)

**描述：**

- 查询学校信息
- 支持分页

**请求URL：**

- http://localhost:8880/yx/querySchoolList

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```json

```



#### 接口：模糊查询学校信息

**描述：**

- 根据条件，模糊查询学校信息

**请求URL：**

- http://localhost:8880/yx/querySchoolListLike

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- province：省
- city：市
- area：区
- addressDetail：经营具体地址
- schoolName：学校名称
- schoolLeaderName：负责人姓名
- schoolTel：负责人联系方式

**返回示例：**

```

```



#### 接口：保存学校信息

**描述：**

- 保存学校信息
- 保存学习卡信息(学习卡表中，绑定学校ID)，只有线上老师，才可以分配学习卡
  - 学习卡只和教材产生关联(版本和年级去掉)
  - 校长角色最多分配2个教材，管理员可以分配多个，其它角色无权限
  - 有两种增加学习卡的方式
    - 批量
    - 学习卡编码(不要了，去掉)

**请求URL：**

- http://localhost:8880/yx/saveSchoolAndStudyCard

**请求方式：**

- POST

**请求参数：**

```

学校相关信息参数：
schoolName        学校名称                                                             
schoolLeaderId    学校管理者ID                                                          schoolLeaderName  管理者姓名                                                           schoolTel         学校联系方式                                                         schoolType        加盟校类型 0普通加盟校(集团发展) 1独家加盟(集团发展) 2 独家加盟校代理(独家加盟校自己发展)  
province          省                                                                   
city              市                                                                   
area              区                                                                   addressDetailList     详细地址地址可以添加多个，转成list,传到后台，
	list中的字段为：
			address：学校地址
			lng: 经度
			lat: 纬度
superviseId       督导老师ID                                                           salesId           销售顾问ID    
isOnLine 					线上线下加盟校 0线下 1线上
note              备注                                                                 endTime           到期日期

学习卡相关信息参数：(将list集合转成json，传到后台)，学习卡信息非必输项
saveType   增加学习卡的方式(0批量 1按照学习卡编码)
studyCardParams   将list集合转成json，传到后台对应的参数名称

    list集合里面封装对象参数为：
        cardType          学习卡类型(P小学正式卡  TP小学体验卡 M初中正式卡 TM初中体验卡)
        cardNum			  学习卡数量(批量增加方式)
        cardCode		  学习卡编码(查询学习卡编码方式,暂时不增加此字段)
        textbookIds		  教材主键ID，多个用逗号隔开

```

**返回示例：**

```

```



#### 接口：禁用学校信息

**描述：**

- 禁用学校信息
- 管理员操作

**请求URL：**

- http://localhost:8880/yx/lockSchool

**请求方式：**

- POST

**请求参数：**

- schoolId：学校主键ID

**返回示例：**

```

```

#### 接口：解禁学校信息

**描述：**

- 解禁学校信息
- 管理员操作

**请求URL：**

- http://localhost:8880/yx/unLockSchool

**请求方式：**

- POST

**请求参数：**

- schoolId：学校主键ID

**返回示例：**





#### 接口：查询学校下已经分配的学习卡信息

**描述：**

- 根据学校ID，查询当前学校下一级分配过的学习卡信息列表，支持分页

**请求URL：**

- http://localhost:8880/yx/queryStudyCardBySchoolId

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- schoolId：学校主键ID

**返回示例：**

```

```





#### 接口：修改学校信息

**描述：**

- 修改学校信息
- 管理员操作

**请求URL：**

- http://localhost:8880/yx/updateSchool

**请求方式：**

- POST

**请求参数：**

```

学校相关信息参数：
schoolId          学校主键ID
schoolName        学校名称                                                             
schoolLeaderId    学校管理者ID                                                          schoolLeaderName  管理者姓名                                                           schoolTel         学校联系方式                                                         schoolType        加盟校类型 0普通加盟校(集团发展) 1独家加盟(集团发展) 2 独家加盟校代理(独家加盟校自己发展)  
province          省                                                                   
city              市                                                                   
area              区                                                                   addressDetailList     详细地址
	地址可以添加多个，转成list,传到后台，list中的字段为：address
superviseId       督导老师ID                                                           salesId           销售顾问ID
isOnLine 					线上线下加盟校 0线下 1线上
note              备注                                                                 endTime           到期日期

学习卡相关信息参数：(将list集合转成json，传到后台)，学习卡信息非必输项
saveType   增加学习卡的方式(0批量 1按照学习卡编码)
studyCardParams   将list集合转成json，传到后台对应的参数名称

    list集合里面封装对象参数为：
        cardType          学习卡类型(P小学正式卡  TP小学体验卡 M初中正式卡 TM初中体验卡)
        cardNum			  学习卡数量(批量增加方式)
        cardCode		  学习卡编码(查询学习卡编码方式,暂时不增加此字段)
        textbookIds		  教材主键ID，多个用逗号隔开
```

**返回示例：**

```

```





#### 接口：根据学校ID，查询学校详情信息

**描述：**

- 根据学校ID，查询当前学校详情信息

**请求URL：**

- http://localhost:8880/yx/querySchoolBySchoolId

**请求方式：**

- GET

**请求参数：**

- schoolId：学校主键ID

**返回示例：**

```

```



#### 接口：查询服务记录

**描述：**

- 根据学校主键ID，查询该学校下的服务信息

**请求URL：**

- http://localhost:8880/yx/querySchoolRecordList

**请求方式：**

- GET

**请求参数：**

- schoolId：学校主键ID

**返回示例：**

```

```



#### 接口：增加服务记录

**描述：**

- 选择学校，增加服务跟踪记录

**请求URL：**

- http://localhost:8880/yx/addSchoolRecord

**请求方式：**

- POST

**请求参数：**

- schoolId：学校主键ID
- record：服务记录内容
- userId：当前登录用户ID

**返回示例：**

```

```



#### 接口：查询尚未分配的学习卡信息

**描述：**

- 查询未分配的学习卡信息列表，支持分页

**请求URL：**

- http://localhost:8880/yx/queryStudyCardNotBind

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```

```



#### 接口：查询所有的教材，如果当前教材已经分配当前学校，则标识

**描述：**

- 查询所有的教材，如果当前教材已经分配当前学校，则标识

**请求URL：**

- http://localhost:8880/yx/queryTextBookOfflineSchool

**请求方式：**

- GET

**请求参数：**

- schoolId：学校ID

**返回示例：**

```
offlineSchoolId  如果此字段有值，则已经授权，否则未授权
```



#### 接口：线下学校，查询当前学校已经授权的教材列表，支持分页

**描述：**

- 线下学校，查询当前学校已经授权的教材列表，支持分页

**请求URL：**

- http://localhost:8880/yx/querySchoolAndTextBook

**请求方式：**

- GET

**请求参数：**

- schoolId：学校ID
- pageNum：分页
- pageSize：每页数量

**返回示例：**

```

```





#### 接口：给线下学校授权、取消授权教材，批量授权、取消授权

**描述：**

- 给线下学校授权、取消授权教材，批量授权、取消授权

**请求URL：**

- http://localhost:8880/yx/grantTextBooksToSchool

**请求方式：**

- POST

**请求参数：**

- schoolId：学校ID
- textbookIds  教材主键ID，多个用逗号隔开

**返回示例：**

```
offlineSchoolId  如果此字段有值，则已经授权，否则未授权
```



#### 接口：设置学校是否开启区域限制(管理员可见)

**描述：**

- 设置学校是否开启区域限制(管理员可见)

**请求URL：**

- http://localhost:8880/yx/updateSchoolIsAreaLimit

**请求方式：**

- POST

**请求参数：**

- schoolId：学校ID
- isAreaLimit 是否开启区域限制 0否 1是

**返回示例：**

```
offlineSchoolId  如果此字段有值，则已经授权，否则未授权
```





### 老师管理

#### 接口：查询老师列表信息(支持分页)

**描述：**

- 查询加盟校老师列表信息
- 支持分页

**请求URL：**

- http://localhost:8880/yx/queryTeacherList

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```

```





#### 接口：模糊查询

**描述：**

- 根据条件，模糊查询加盟校老师信息
- 支持分页

**请求方式：**

- http://localhost:8880/yx/queryTeacherListLike

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- schoolId：所属学校ID
- isLock：老师状态
- userName：老师姓名
- phone：老师手机号

**返回示例：**

```

```



#### 接口：保存老师信息

**描述：**

- 保存加盟校老师信息
- 保存必须指定当前老师所属学校ID

**请求URL：**

- http://localhost:8880/yx/saveTeacher

**请求方式：**

- POST

**请求参数：**

- schoolId：学校ID
- userName：老师姓名
- phone：老师手机(默认登录密码为手机号后6位)
- address：家庭住址
- sex：性别，1男 0女
- isLock：状态，0正常 1禁用

```

```



#### 接口：修改老师信息

**描述：**

- 修改老师信息

- 不包含教材信息

  

**请求URL：**

- http://localhost:8880/yx/updateTeacher

**请求方式：**

- POST

**请求参数：**

```
userId		   老师主键ID
userName       用户真实姓名                    
schoolId       所属学校ID                        
isLock         用户状态：0正常 1禁用        
phone          手机号                             
sex            性别 1男 0女                      
address        家庭住址                          
note           备注
```

**返回示例：**

```

```



#### 接口：禁用老师

**描述：**

- 禁用老师

**请求URL：**

- http://localhost:8880/yx/lockTeacher

**请求方式：**

- POST

**请求参数：**

- userId：老师主键ID

**返回示例：**

```

```



#### 接口：解禁老师

**描述：**

- 解禁老师

**请求URL：**

- http://localhost:8880/yx/unLockTeacher

**请求方式：**

- POST

**请求参数：**

- userId：老师主键ID

**返回示例：**

```

```



#### 接口：重置老师密码

**描述：**

- 重新设置当前老师的密码为手机号后6位

**请求URL：**

- http://localhost:8880/yx/initPassword

**请求方式：**

- POST

**请求参数：**

- userId：当前老师主键ID
- phone：当前老师手机号

**返回示例：**

```

```



### 班级管理

#### 接口：查询班级列表信息(支持分页)

**描述：**

- 查询班级列表信息
- 支持分页

**请求URL：**

- http://localhost:8880/yx/querySchoolClass

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```

```



#### 接口：学生管理下，搜索框，根据学校，角色、用户，查询班级对应信息

**描述：**

- 学生管理下，搜索框，根据学校，角色、用户，查询班级对应信息

**请求URL：**

- http://localhost:8880/yx/querySchoolClassBySchool

**请求方式：**

- GET

**请求参数：**

- userId：用户Id
- roleId,：角色Id
- schoolId：学校Id

**返回示例：**

```

```





#### 接口：模糊查询班级列表信息

**描述：**

- 根据条件，模糊搜索班级信息

**请求URL：**

- http://localhost:8880/yx/querySchoolClassLike

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- schoolId：所属学校主键ID
- status：状态，0正常 1禁用
- className：班级名称
- classLeaderName：班级负责人姓名

**返回示例：**

```

```





#### 接口：保存班级信息

**描述：**

- 保存班级信息

**请求URL：**

- http://localhost:8880/yx/saveSchoolClass

**请求方式：**

- POST

**请求参数：**

- schoolId：所属学校ID，必输项
- classLevel：年级名称，必输项
- className：班级名称，必输项
- classLeaderId：班级负责人ID，必输项
- classLeaderName：班级负责人姓名，必输项
- note：备注
- status：状态，0正常 1禁用 

**返回示例：**

```

```



#### 接口：修改班级信息

**描述：**

- 修改班级信息

**请求URL：**

- http://localhost:8880/yx/editSchoolClass

**请求方式：**

- POST

**请求参数：**

- classLevel：年级，必输项
- className：班级名称，必输项
- classLeaderId：班级负责人，必输项
- classLeaderName：班级负责人姓名，必输项
- note：备注
- status：状态，0正常 1禁用
- classId：班级主键ID，必输项

**返回示例：**

```

```



#### 接口：禁用班级

**描述：**

- 禁用班级

**请求URL：**

- http://localhost:8880/yx/lockSchoolClass

**请求方式：**

- POST

**请求参数：**

- classId  ：班级主键ID

**返回示例：**

```

```



#### 接口：解禁班级

**描述：**

- 解禁班级

**请求URL：**

- http://localhost:8880/yx/unLockSchoolClass

**请求方式：**

- POST

**请求参数：**

- classId  ：班级主键ID

**返回示例：**

```

```

#### 接口：为班级指定复习的教材和复习单词的数量

**描述：**

- 为班级指定复习的教材和复习单词的数量

**请求URL：**

- http://localhost:8880/yx/grantReviewTextBookToSchoolClass

**请求方式：**

- POST

**请求参数：**

- classId  ：班级主键ID
- reviewTextBookIds：教材主键ID
- reviewWordNum：复习的单词数量(正整数、最少30，最大100)

**返回示例：**

```

```



### 学生管理

#### 接口：查询学生列表信息(支持分页查询)

**描述：**

- 查询学生列表信息
- 支持分页查询

**请求URL:**

- http://localhost:8880/yx/queryStudentList

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- roleId：当前登录用户角色ID

**返回示例：**

```

```



#### 接口：模糊查询学生列表信息

**描述：**

- 根据条件，模糊查询学生信息

**请求URL:**

- http://localhost:8880/yx/queryStudentListLike

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- roleId：当前登录用户角色ID
- schoolId：学校主键ID
- classId：班级主键ID
- isOnLine：学生类型 0线下 1线上
- studentName：学生姓名
- studentPhone：学生联系方式
- teacherName：老师姓名

**返回示例：**

```

```



#### 接口：保存学生信息

**描述：**

- 保存学生信息
- 如果是线下学生，可以直接授权教材

**请求URL：**

- http://localhost:8880/yx/saveStudent

**请求方式：**

- POST

**请求参数：**

- schoolId：学校ID
- classId：班级ID
- studentName：学生姓名
- studentPhone：学生联系方式(登录密码为手机号后6位)
- address：家庭地址
- sex：性别 0男 1女
- status：状态 0正常 1禁用
- isTeacher：学生属性 0普通学生 1老师
- isOnLine：是否线上 0否 1是，和学校线上线下一致
- userId：当前登录用户ID

**返回示例：**

```

```



#### 接口：修改学生信息

**描述：**

- 修改学生信息

**请求URL:**

- http://localhost:8880/yx/updateStudent

**请求方式：**

- POST

**请求参数：**

- studentId：学生主键ID
- schoolId：学校ID
- classId：班级ID
- studentName：学生姓名
- studentPhone：学生联系方式(登录密码为手机号后6位)
- address：家庭地址
- sex：性别 0男 1女
- status：状态 0正常 1禁用
- isTeacher：学生属性 0普通学生 1老师
- isOnLine：是否线上 0否 1是，和学校线上线下一致
- userId：当前登录用户ID

**返回示例：**

```

```



#### 接口：禁用学生

**描述：**

- 禁用学生

**请求URL:**

- http://localhost:8880/yx/lockStudent

**请求方式：**

- POST

**请求参数：**

- studentId：学生主键ID

**返回示例：**

```

```



#### 接口：解禁学生

**描述：**

- 禁用学生信息

**请求URL:**

- http://localhost:8880/yx/unLockStudent

**请求方式：**

- POST

**请求参数：**

- studentId：学生主键ID

**返回示例：**

```

```





#### 接口：重置密码

**描述：**

- 重新设置学生的密码为手机号后6位

**请求URL:**

- http://localhost:8880/yx/initStudentPassword

**请求方式：**

- POST

**请求参数：**

- studentId：学生主键ID
- studentPhone：学生手机号、联系方式

**返回示例：**

```

```

#### 接口：查询学生陪伴号

**描述：**

- 重新设置学生的密码为手机号后6位

**请求URL:**

- http://localhost:8880/yx/queryStudentCompanion

**请求方式：**

- GET

**请求参数：**

- studentId：学生主键ID
- isTeacher 学生属性
- isOnLine 0线下 1线上

**返回示例：**

```

```

#### 

#### 接口：查询所有的教材，并返回是否为该学生绑定过教材

**描述：**

+ 返回所有的教材
+ stuTextbookId，返回值中，如果此字段不为空，则说明当前教材已经分配到当前学习卡

**请求URL：**

+ http://localhost:8880/yx/getAllTextBookAndStudent

**请求方式：**

- POST

**请求参数：**

- studentId：学生主键ID

**返回示例：**

```json

```



#### 接口：为线下学生教材分配

**描述：**

- 只能为线下的学生分配教材
- 选中学生，点击教材分配，弹出框(查询所有教材，已经分配的显示已授权，不能取消，未分配的显示授权)
- 选择对应的教材，点击确定

**请求URL:**

- http://localhost:8880/yx/studentAssignedTextBook

**请求方式：**

- POST

**请求参数：**

- studentId：学生主键ID
- isOnLine：是否线上 0否 1是，和所属学校线上线下一致
- textBookIds：教材主键ID，批量，多个教材的主键ID之间用逗号隔开，eg：1,2,3,4
- userId：当前登录用户主键ID

**返回示例：**

```

```

#### 接口：设置学生是否可以跳过视频 (校长、管理员可见)

**描述：**

- 设置学生是否可以跳过视频 (校长、管理员可见)

**请求URL:**

- http://localhost:8880/yx/updateStudentIsJumpVideo

**请求方式：**

- POST

**请求参数：**

- studentId：学生主键ID
- isJumpVideo：是否跳过视频 0否 1是

**返回示例：**

```

```

### 

### 体验账号

#### 接口：查询体验账号，校长只能查询自己学校下的账号，支持分页

**描述：**

- 查询体验账号，校长只能查询自己学校下的账号
- 支持分页查询

**请求URL:**

- http://localhost:8880/yx/queryExperience

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- roleId：当前登录用户角色ID
- schoolId：学校iD

**返回示例：**

```

```



#### 接口：批量生成体验账号(账号数量、账号教材、教材数量)

**描述：**

- 批量生成体验账号(账号数量、账号教材、教材数量)

**请求URL:**

- http://localhost:8880/yx/createExperience

**请求方式：**

- POST

**请求参数：**

- userId 当前登录用户ID
  isOnline 线上线下
  schoolId 学校主键ID
  experNum生成的体验账户数量
  textbookIds账号可授权的教材主键，逗号隔开
  textbookNum校长可授权的教材数量

**返回示例：**

```

```

#### 接口：查询所有体验教材,支持分页

**描述：**

- 查询所有体验教材,支持分页

**请求URL:**

- http://localhost:8880/yx/queryAllExperienceTextBook

**请求方式：**

- GET

**请求参数：**

- pageSize
  pageNum

**返回示例：**

```

```

#### 接口：查询账号允许授权的体验教材

**描述：**

- 查询账号允许授权的体验教材

**请求URL:**

- http://localhost:8880/yx/queryExperienceTextBookById

**请求方式：**

- GET

**请求参数：**

- studentId
  experTextBookIds: 教材主键IDS

**返回示例：**

```

```

#### 接口：未激活状态下，给体验账户分配教材，保存，校长可以编辑教材(一本)，管理员可以多本

**描述：**

- 未激活状态下，给体验账户分配教材，保存，校长可以编辑教材(一本)，管理员可以多本

**请求URL:**

- http://localhost:8880/yx/grantTextBookToExperience

**请求方式：**

- POST

**请求参数：**

- studentId
  textBookIds: 教材主键IDS

**返回示例：**

```

```

#### 接口：激活账户，激活后，不能编辑，空授权教材不能激活

**描述：**

- 激活账户，激活后，不能编辑，空授权教材不能激活

**请求URL:**

- http://localhost:8880/yx/activationExperience

**请求方式：**

- POST

**请求参数：**

- studentId
  endTimeDate: 到期日期（3天5天7天）

**返回示例：**

```

```

#### 接口：禁用体验账户

**描述：**

- 禁用体验账户

**请求URL:**

- http://localhost:8880/yx/disableExperStudent

**请求方式：**

- POST

**请求参数：**

- studentId
  roleID:

**返回示例：**

```

```

#### 接口：激活后，管理员可以延期账户

**描述：**

- 激活后，管理员可以延期账户

**请求URL:**

- http://localhost:8880/yx/delayExperStudent

**请求方式：**

- POST

**请求参数：**

- studentId
  delayDate : 延期的日期(日历格式，年月日 时分秒)

**返回示例：**

```

```



## 教材管理(完成未测试)

### 教材管理

#### 接口：查询教材列表信息(支持分页)

**描述：**

- 查询教材信息列表
- 支持分页

**请求URL：**

- http://localhost:8880/yx/queryTextBookList

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- roleId：当前登录用户的角色ID

**返回示例：**

```

```



#### 接口：模糊查询教材列表信息(支持分页)

**描述：**

- 根据条件模糊查询教材列表信息
- 支持分页

**请求URL：**

- http://localhost:8880/yx/queryTextBookListLike

**请求方式：**

- GET

**请求参数：**

- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量
- roleId：当前登录用户的角色ID
- textbookName：教材名称
- textbookType：教材类型  0词汇 1语法 2体验 3自然拼读 
- textbookCategory：教材类别  0YouCan 1拳心同步 2智能英语
- textbookVersionId：教材版本

**返回示例：**

```

```



#### 接口：保存教材信息

**描述：**

- 保存教材基础信息

**请求URL：**

- http://localhost/yx/saveTextBook

**请求方式：**

- POST

**请求参数：**

- textbookName：教材名称
- unLockCoins：解锁所需优钻
- textbookType：教材类型 0词汇 1语法 2体验 3自然拼读
- textbookCategory：教材类别 0YouCan 1拳心同步 2智能英语
- textbookVersionId：教材版本主键ID
- isOpenUser：是否对用户开放 0是 1否
  - 否：可以为学校授权，也可以不授权
  - 如果授权，需要传学校主键ID到后台
  - schoolIds：学校主键ID，多个学校则主键用逗号隔开即可，如：1,2,3,4
- isHasVideo：是否有视频 0是 1否
- isHasExercises：是否有配对练习 0是 1否
- status：教材状态 0正常 1禁用

**返回示例：**

```

```

#### 接口：上传教材封面

**描述：**

- 上传教材封面

**请求URL：**

- http://localhost:8880/yx/uploadTextBookCoverImage

**请求方式：**

- POST

**请求参数：**

- textBookCoverFile：上传的文件

**返回示例：**

```

```



#### 接口：编辑教材信息

**描述：**

- 修改编辑教材信息

**请求URL：**

- http://localhost:8880/yx/updateTextBook

**请求方式：**

- POST

**请求参数：**

- textbookId：当前教材主键ID
- textbookName：教材名称
- unLockCoins：解锁所需优钻
- textbookType：教材类型 0词汇 1语法 2体验 3自然拼读
- textbookCategory：教材类别 0YouCan 1拳心同步 2智能英语
- textbookVersionId：教材版本主键ID
- isOpenUser：是否对用户开放 0是 1否
  - 否：可以为学校授权，也可以不授权
  - 如果授权，需要传学校主键ID到后台
  - schoolIds：学校主键ID，多个学校则主键用逗号隔开即可，如：1,2,3,4
- isHasVideo：是否有视频 0是 1否
- isHasExercises：是否有配对练习 0是 1否
- status：教材状态 0正常 1禁用

**返回示例：**



#### 接口：删除教材信息

**描述：**

- 判断当前教材是否已经授权学校
  - 如果没有授权，则可以直接逻辑删除
  - 如果已经授权，首先提示用户先取消授权，然后在执行删除操作

**请求URL：**

- http://localhost:8880/yx/deleteTextBook

**请求方式：**

- POST

**请求参数：**

- textbookId：教材主键ID

**返回示例：**

```

```

#### 接口：跳过拼读功能

**描述：**

- 是否要跳过拼读功能

**请求URL：**

- http://localhost:8880/yx/updateStudyCardTextBookJumpSpell

**请求方式：**

- POST

**请求参数：**

- textbookId：教材主键ID
- isJumpSpell     是否跳过拼读 0否 1是
- studyCardId:  学习卡ID

**返回示例：**

```

```



#### 接口：查看当前教材所授权学校

**描述：**

- 查询当前教材所有的授权过的学校信息

**请求URL：**

- http://localhost:8880/yx/querySchoolByTextBookId

**请求方式：**

- GET

**请求参数：**

- textbookId：教材主键ID

**返回示例：**

```

```



#### 接口：下载excel模板

**描述：**

- 下载教材导入的excel模板

**请求URL：**

- http://localhost:8880/yx/uploadTextBookExcelTemplate

**请求方式：**

- POST

**请求参数：**

- 无

**返回示例：**

```

```



#### 接口：生成教材

**描述：**

- 分五步完成：
  - 第一步：单词--导入单词excel文件
  - 第二步：txt--选择对应的教材，点击下载单词txt文件、例句txt文件
    - txt文件名等于单词主键ID
    - 内容为：单词名称、例句内容
  - 第三步：例句(音频)、图片、MP3(单词音频)--用户生成的单词txt文件，利用其它工具生成对应的例句音频、单词音频、图片文件
    - 音频文件、图片文件的文件名，就是单词的主键ID
  - 第四步：生成单词对应题型（单词保存完成后，生成每个单词的6种体型）
    - 1：单词拼写
    - 2：根据发音-选择单词
    - 3：根据汉语-选择单词
    - 4：根据单词-选择图片和汉语
    - 5：根据英文例句和中文翻译-选择单词
  - 第五步：生成资源包，存储到服务器，发送移动端

**请求URL：**

- 接口1：导入单词excel文件接口：http://localhost:8880/yx/importTextBook    
- 接口2：下载txt文件接口：
  - 下载单词txt：http://localhost:8880/yx/uploadTextBookWordTxt
  - 下载例句txt：http://localhost:8880/yx/uploadTextBookEgsTxt
- 接口3：导入单词音频、图片接口：
  - 接口地址：http://localhost:8880/yx/importAudioAndImage
- 接口4：根据单词，生成5种单词题目类型
  - 接口地址：http://localhost:8880/yx/generateSubjectFromWord

**请求方式：**

- 接口1：
  - POST
- 接口2：
  - GET
  - GET
- 接口3：
  - POST
- 接口4：
  - POST

**请求参数：**

- 接口1：
  - excelFile：单词文件excel，MultipartFile格式
  - textbookId：教材主键ID
- 接口2：
  - textbookId：教材主键ID
- 接口3：
  - egsZipFile：例句文件zip，MultipartFile格式
  - imageZipFile：图片文件zip，MultipartFile格式
  - mp3ZipFile：mp3文件zip，MultipartFile格式
  - textbookId：教材主键ID
- 接口4：
  - textbookId：教材主键ID

**返回示例：**

```

```



#### 接口：生成资源包

**描述：**

- .7z文件压缩包(每个教材都有)
  - 资源包里有当前教材的单词+易混词信息
    - json格式数据
    - 打包成txt文件
  - 单词的发音
    - mp3文件
    - 单独文件夹
  - 单词的例句发音
    - mp3
    - 单独文件夹
  - 单词的图片
    - 图片
    - 单独文件夹

**请求URL：**

- http://localhost:8880/yx/wordZipResourceFile

**请求方式：**

- POST

**请求参数：**

- textbookId：教材主键ID

**返回示例：**

```

```



#### 接口：查询教材导入进度号

**描述：**

- 查询教材导入进度号

**请求URL：**

- http://localhost:8880/yx/queryTextBookProgressNo

**请求方式：**

- GET

**请求参数：**

- textbookId：教材主键ID

**返回示例：**

```

```



### 教材分配

#### 接口：授权教材--学校功能（弃用）

**描述：**

- 将当前教材，授权给某个学校

**请求URL：**

- http://localhost:8880/yx/grantTextBookToSchool

**请求方式：**

- POST

**请求参数：**

- schoolId：学校主键ID
- textbookId：教材主键ID

**返回示例：**

```

```





#### 接口：取消授权功能（弃用）

**描述：**

- 将当前教材，取消授权某个学校

**请求URL：**

- http://localhost:8880/yx/cancelGrantTextBookToSchool

**请求方式：**

- POST

**请求参数：**

- schoolId：学校主键ID
- textbookId：教材主键ID

**返回示例：**

```

```



### 课程管理

#### 接口：按照选择的教材，查询课程列表信息，支持分页

**描述：**

- 根据选择的教材，查询教材下的课程信息
- 支持分页

**请求URL：**

- http://localhost:8880/yx/queryCourseByTextBook

**请求方式：**

- GET

**请求参数：**

- textbookId：教材主键ID
- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```

```



### 关卡管理

#### 接口：根据选择教材—课程，查询当前课程下所有关卡信息

**描述：**

- 选择教材-显示教材下的课程对应的关卡信息
- 列表展示
- 支持分页

**请求URL：**

- http://localhost:8880/yx/queryCourseLevel

**请求方式：**

- GET

**请求参数：**

- textbookId：教材主键ID
- courseCode：课程编码
- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```

```



#### 接口：根据教材主键ID，更改教材-课程-关卡-分组的组视频地址

**描述：**

- 根据教材主键ID，更改教材-课程-关卡-分组的组视频地址

**请求URL：**

- http://localhost:8880/yx/udpateGroupVideoUrl

**请求方式：**

- POST

**请求参数：**

- textbookId：教材主键ID

**返回示例：**

```

```



### 分组管理

#### 接口：根据教材—课程—关卡，查询当前关卡下的分组信息

**描述：**

- 根据选择的教材-课程-关卡，查询当前关卡下的分组信息

**请求URL：**

- http://localhost:8880/yx/queryCourseLevelGroup

**请求方式：**

- GET

**请求参数：**

- textbookId：教材主键ID
- courseCode：课程编码
- levelCode：关卡编码
- pageNum：请求第几页，下标默认从0开始
- pageSize：请求数量

**返回示例：**

```

```





### 题目管理(后台暂时不处理)

### 单词管理

#### 接口：根据教材，查询教材下所有单词，支持分页

**描述：**

**请求URL：**

+ http://localhost:8880/yx/queryWordInfoList

**请求方式：**

+ GET

**请求参数：**

+ textbookId  教材主键ID
+ pageNum: 分页号码
+ pageSize: 分页大小

**返回示例：**



#### 接口：根据教材，模糊查询单词信息，支持分页

**描述：**

**请求URL：**

+ http://localhost:8880/yx/queryWordInfoListLike

**请求方式：**

+ GET

**请求参数：**

+ wordCode：单词内容
+ pageNum: 分页号码
+ pageSize: 分页大小

**返回示例：**



#### 接口：修改单词信息

**描述：**

**请求URL：**

**请求方式：**

**请求参数：**

**返回示例：**



#### 接口：(单词修改后)重新生成教材资源包信息

**描述：**

**请求URL：**

**请求方式：**

**请求参数：**

**返回示例：**

### 知识点管理

#### 接口：查询知识点管理列表，支持分页、模糊查询(名称)

**描述：**

**请求URL：**

+ http://localhost:8880/yx/queryKnowledgeList

**请求方式：**

+ GET

**请求参数：**

+ knowledgeName
+ pageNum
+ pageSize

**返回示例：**

#### 接口：保存知识点

**描述：**

**请求URL：**

+ http://localhost:8880/yx/saveKnowledge

**请求方式：**

+ POST

**请求参数：**

+ knowledgeCode;//知识点编码
+ knowledgeName;//知识点名称

**返回示例：**

#### 接口：编辑知识点

**描述：**

**请求URL：**

+ http://localhost:8880/yx/editKnowledge

**请求方式：**

+ POST

**请求参数：**

+ knowledgeCode;//知识点编码
+ knowledgeName;//知识点名称
+ knowledgeId: 知识点id

**返回示例：**



### 考点管理

#### 接口：查询考点管理列表，支持分页、模糊查询(所属知识点、名称)

**描述：**

**请求URL：**

+ http://localhost:8880/yx/queryKnowledgeExamList

**请求方式：**

+ GET

**请求参数：**

+ knowledgeExamName
+ knowledgeId
+ pageNum
+ pageSize

**返回示例：**

#### 接口：保存考点

**描述：**

**请求URL：**

+ http://localhost:8880/yx/saveKnowledgeExam

**请求方式：**

+ POST

**请求参数：**

+ knowledgeExamCode;//考点编码
+ knowledgeId; //所属知识点ID
+ knowledgeExamName;//考点名称

**返回示例：**

#### 接口：编辑考点(所属知识点、名称、编码)

**描述：**

**请求URL：**

+ http://localhost:8880/yx/editKnowledgeExam

**请求方式：**

+ POST

**请求参数：**

+ knowledgeId; //所属知识点ID
+ knowledgExamId;//考点主键ID
+ knowledgeExamName;//考点名称
+ knowledgeExamCode;//考点编码

**返回示例：**

## 语法管理

#### 接口：查询考点管理列表，支持分页、模糊查询(所属知识点、名称)

**描述：**

**请求URL：**

+ http://localhost:8880/yx/queryGrammarTextBookList

**请求方式：**

+ GET

**请求参数：**

+ textBookName
+ pageNum
+ pageSize

**返回示例：**



#### 接口：保存语法教材基本信息

**描述：**

**请求URL：**

+ http://localhost:8880/yx/saveGrammarTextBook

**请求方式：**

+ POST

**请求参数：**

+ textBookName
+ pageNum
+ pageSize

**返回示例：**



#### 接口：编辑教材

**描述：**

**请求URL：**

+ http://localhost:8880/yx/editGrammarTextBook 

**请求方式：**

+ POST

**请求参数：**

+ textBookName
+ pageNum
+ pageSize

**返回示例：**



#### 接口：删除教材信息

**描述：**

**请求URL：**

+ http://localhost:8880/yx/deleteGrammarTextBook

**请求方式：**

+ GET

**请求参数：**

+ textBookName
+ pageNum
+ pageSize

**返回示例：**



#### 接口：下载语法excel练习、闯关练习模板

**描述：**

**请求URL：**

+ http://localhost:8880/yx/uploadGrammarTextBookExcelTemplate

**请求方式：**

+ GET

**请求参数：**

+ textBookName
+ pageNum
+ pageSize

**返回示例：**

#### 接口：导入语法教材【练习】【闯关练习】

**描述：**

**请求URL：**

+ http://localhost:8880/yx/importExcelTextBookPractice

**请求方式：**

+ POST

**请求参数：**

+ excelFile
+ textbookId

**返回示例：**

#### 接口：上传语法教材封面图片

**描述：**

**请求URL：**

+ http://localhost:8880/yx/uploadGrammarTextBookCoverImage

**请求方式：**

+ POST

**请求参数：**

+ textBookCoverFile

**返回示例：**



## 语法练习

#### 接口：根据教材，查询教材下练习数据，支持分页，模糊查询

**描述：**

**请求URL：**

+ http://localhost:8880/yx/queryPracticeList 

**请求方式：**

+ GET

**请求参数：**

+ textBookId 教材主键ID
+ courseCode 课程编码
+ levelCode 关卡编码
+ knowledgeId 知识点ID
+ subject 题目
+ subjectType题目类型(1填空，2单选，3有序多选，4无序多选）
+ status 状态 0正常 1禁用
+ pageNum
+ pageSize

**返回示例：**



#### 接口：保存语法练习数据

**描述：**

**请求URL：**

+ http://localhost:8880/yx/savePractice

**请求方式：**

+ POST

**请求参数：**

+ textBookName
+ pageNum
+ pageSize

**返回示例：**



#### 接口：修改语法练习数据

**描述：**

**请求URL：**

+ http://localhost:8880/yx/editPractice

**请求方式：**

+ POST

**请求参数：**

+ textBookName
+ pageNum
+ pageSize

**返回示例：**



#### 接口：删除语法练习数据

**描述：**

**请求URL：**

+ http://localhost:8880/yx/deletePractice

**请求方式：**

+ GET

**请求参数：**

+ practiceId：主键ID

**返回示例：**



#### 接口：禁用语法练习数据

**描述：**

**请求URL：**

+ http://localhost:8880/yx/updatePracticeIsDisable  

**请求方式：**

+ GET

**请求参数：**

+ practiceId：主键ID

**返回示例：**

#### 接口：启用语法练习数据

**描述：**

**请求URL：**

+ http://localhost:8880/yx/updatePracticeIsEnable

**请求方式：**

+ POST

**请求参数：**

+ practiceId：主键ID

**返回示例：**



## 竞技场

### 线上竞技

#### 接口：查询竞技场列表

**描述：**查询竞技场列表

**请求URL：**

+ http://localhost:8880/yx/queryArenaList  

**请求方式：**

+ GET

**请求参数：**

+ schoolId：单词内容
+ pageNum: 分页号码
+ pageSize: 分页大小
+ roleId：角色ID

**返回示例：**

```shell

```

#### 接口：查询竞技场下参赛学校列表

**描述：**查询竞技场下参赛学校列表

**请求URL：**

+ http://localhost:8880/yx/queryArenaSchoolList 

**请求方式：**

+ GET

**请求参数：**

+ schoolId：学校id
+ arenaId:  id
+ roleId：角色ID

**返回示例：**

```shell

```

#### 接口：查询竞技场下单词列表

**描述：**查询竞技场下单词列表

**请求URL：**

+ http://localhost:8880/yx/queryArenaWordList

**请求方式：**

+ GET

**请求参数：**

+ arenaId：id

**返回示例：**

```shell

```

#### 接口：查询参赛学生列表

**描述：**查询参赛学生列表

**请求URL：**

+ http://localhost:8880/yx/queryArenaJoinStudentList

**请求方式：**

+ GET

**请求参数：**

+ arenaId：id

**返回示例：**

```shell

```



#### 接口：查询未参赛学生列表

**描述：**查询未参赛学生列表

**请求URL：**

+ http://localhost:8880/yx/queryArenaUnJoinStudentList

**请求方式：**

+ GET

**请求参数：**

+ arenaId：id

**返回示例：**

```shell

```



#### 接口：随机获取课程范围内wordCount个单词

**描述：**随机获取课程范围内wordCount个单词

**请求URL：**

+ http://localhost:8880/yx/queryArenaRandomWords

**请求方式：**

+ GET

**请求参数：**

+ courseCodes课程编码IDS，用逗号隔开拼接
+ wordCount单词数量
+ textBookId

**返回示例：**

```shell

```



#### 接口：保存竞技场信息

**描述：**保存竞技场信息

**请求URL：**

+ http://localhost:8880/yx/saveArena

**请求方式：**

+ POST

**请求参数：**

+ courseCodes课程编码IDS，用逗号隔开拼接
+ wordCount单词数量
+ textBookId

**返回示例：**

```shell

```

#### 接口：发放奖品

**描述：**发放奖品

**请求URL：**

+ http://localhost:8880/yx/isAward

**请求方式：**

+ POST

**请求参数：**

+ arenaStudentId: 竞技参赛关系学生主键ID

**返回示例：**

```shell

```



#### 接口：查询范围内所有的单词，支持分页

**描述：**查询范围内所有的单词，支持分页

**请求URL：**

+ http://localhost:8880/yx/queryArenaAllWords

**请求方式：**

+ GET

**请求参数：**

+ courseCodes  课程编码范围，多个用逗号隔开
+ textBookId
+ pageNum
+ pageSize

**返回示例：**

```shell

```



#### 接口：根据单词code，模糊搜索

**描述：**根据单词code，模糊搜索

**请求URL：**

+ http://localhost:8880/yx/queryArenaWordLike

**请求方式：**

+ GET

**请求参数：**

+ courseCodes  课程编码范围，多个用逗号隔开
+ textBookId
+ wordCode  输入的单词编码

**返回示例：**

```shell

```



### 线上考试

#### 接口：查询试卷列表，status,0未开始、1进行中、2已结束，支持分页

**描述：**查询试卷列表，status,0未开始、1进行中、2已结束，支持分页

**请求URL：**

+ http://localhost:8880/yx/queryExamList

**请求方式：**

+ GET

**请求参数：**

+ schoolId：单词内容
+ pageNum: 分页号码
+ pageSize: 分页大小
+ status：状态

**返回示例：**

```shell

```

#### 接口：查询教材下，关卡范围内，随机N个单词，最少5个单词

**描述：**查询教材下，关卡范围内，随机N个单词，最少5个单词

**请求URL：**

+ http://localhost:8880/yx/queryExamWords

**请求方式：**

+ 

**请求参数：**

+ textBookId 教材主键ID
+ levelCodes 关卡范围，多个关卡编码用逗号隔开
+ wordCount 单词数量

**返回示例：**

```shell

```

#### 接口：查询范围内下，所有的单词，支持分页

**描述：**查询范围内下，所有的单词，支持分页

**请求URL：**

+ http://localhost:8880/yx/queryExamAllWords

**请求方式：**

+ GET

**请求参数：**

+ textBookId
+ levelCodes
+ pageNum
+ pageSize

**返回示例：**

```shell

```

#### 接口：模糊查询范围内下，所有的单词

**描述：**模糊查询范围内下，所有的单词

**请求URL：**

+ http://localhost:8880/yx/queryExamWordLike

**请求方式：**

+ GET

**请求参数：**

+ textBookId
+ levelCodes
+ wordCode

**返回示例：**

```shell

```



#### 接口：保存考试

**描述：**保存考试

**请求URL：**

+ http://localhost:8880/yx/saveExam  

**请求方式：**

+ POST

**请求参数：**

+ jsonParam  json字符串

**返回示例：**

```shell

```



#### 接口：分配个人或者班级

**描述：**分配个人或者班级

**请求URL：**

+ http://localhost:8880/yx/assignmentExamToClassOrStudent

**请求方式：**

+ POST

**请求参数：**

+ examId  考试主键ID
+ schoolId
+ classOrStudent 0班级 1个人
+ classIds  班级主键IDS，多个用逗号隔开
+ studentIds 学生IDS，多个用逗号隔开

**返回示例：**

```shell

```



#### 接口：发布考试

**描述：**发布考试

**请求URL：**

+ http://localhost:8880/yx/openExam  

**请求方式：**

+ POST

**请求参数：**

+ examId
+ classOrStudent
+ examName

**返回示例：**

```shell

```

#### 接口：查看考试分配的班级或者个人

**描述：**查看考试分配的班级或者个人

**请求URL：**

+ http://localhost:8880/yx/queryExamToClassOrStudent  

**请求方式：**

+ GET

**请求参数：**

+ examId
+ classOrStudent

**返回示例：**

```shell

```



#### 接口：查看试卷详情题目

**描述：**查看试卷详情题目

**请求URL：**

+ http://localhost:8880/yx/queryExamInfo  

**请求方式：**

+ GET

**请求参数：**

+ examId

**返回示例：**

```shell

```



#### 接口：查看线上考试成绩

**描述：**查看线上考试成绩

**请求URL：**

+ http://localhost:8880/yx/queryExamStudentRecord

**请求方式：**

+ GET

**请求参数：**

+ examId

**返回示例：**

```shell

```



#### 接口：试卷下载，无答案

**描述：**试卷下载，无答案

**请求URL：**

+ http://localhost:8880/yx/downLoadExamNoAnswer 

**请求方式：**

+ GET

**请求参数：**

+ examId

**返回示例：**

```shell

```

#### 接口：试卷下载，无答案

**描述：**试卷下载，无答案

**请求URL：**

+ http://localhost:8880/yx/downLoadExamWithAnswer 

**请求方式：**

+ GET

**请求参数：**

+ examId

**返回示例：**

```shell

```



## 优钻管理

### 优钻设置

### 优钻订单



## 抽奖



### 抽奖设置

#### 接口：查询抽奖设置信息

**描述：**查询抽奖设置信息

**请求URL：**

+ http://localhost:8880/yx/queryPrizeList

**请求方式：**

+ GET

**请求参数：**

+ schoolId：单词内容
+ pageNum: 分页号码
+ pageSize: 分页大小
+ roleId：角色ID

**返回示例：**

```shell

```



#### 接口：保存抽奖设置信息

**描述：**保存抽奖设置信息

**请求URL：**

+ http://localhost:8880/yx/savePrize

**请求方式：**

+ POST

**请求参数：**

+ userId  当前用户ID
+ schoolId 用户学校ID
+ prizeTitle 抽奖标题
+ consumeCoins每次消耗优币数
+ prizeLimitNum抽奖次数限制

**返回示例：**

```shell

```



#### 接口：开启、关闭抽奖设置信息

**描述：**开启、关闭抽奖设置信息

**请求URL：**

+ http://localhost:8880/yx/setIsEnable

**请求方式：**

+ POST

**请求参数：**

+ prizeId  抽奖id
+ isEnable 0关闭 1已开启

**返回示例：**

```shell

```



#### 接口：查询抽奖奖品信息

**描述：**查询抽奖奖品信息

**请求URL：**

+ http://localhost:8880/yx/queryPrizeDetailList

**请求方式：**

+ GET

**请求参数：**

+ prizeId  抽奖id

**返回示例：**

```shell

```



#### 接口：保存奖品信息

**描述：**保存奖品信息

**请求URL：**

+ http://localhost:8880/yx/savePrizeDetail

**请求方式：**

+ POST

**请求参数：**

参数为list集合，集合封装的是实体对象
对象字段：prizeDetailList

- prizeId抽奖主键ID
- prizeName奖品名称
- prizeImage奖品图片地址
- prizeCount奖品数量
- winweight中奖概率
- prizeNote奖品说明

**返回示例：**

```shell

```



#### 接口：修改抽奖信息(抽奖标题\每次消耗优币数\抽奖次数)

**描述：**修改抽奖信息(抽奖标题\每次消耗优币数\抽奖次数)

**请求URL：**

+ http://localhost:8880/yx/updatePrize

**请求方式：**

+ POST

**请求参数：**

+ prizeId：抽奖Id

+ userId  当前用户ID
+ schoolId 用户学校ID
+ prizeTitle 抽奖标题
+ consumeCoins每次消耗优币数
+ prizeLimitNum抽奖次数限制

**返回示例：**

```shell

```



#### 接口：删除抽奖信息

**描述：**删除抽奖信息

**请求URL：**

+ http://localhost:8880/yx/deletePrize

**请求方式：**

+ POST

**请求参数：**

+ prizeId：抽奖Id

**返回示例：**

```shell

```



### 中奖清单

#### 接口：查询学生中奖清单列表信息，支持分页

**描述：**查询学生中奖清单列表信息，支持分页

**请求URL：**

+ http://localhost:8880/yx/queryPrizeDrawList

**请求方式：**

+ GET

**请求参数：**

+ schoolId、roleId、pageNum、pageSize

**返回示例：**

```shell

```



#### 接口：标记奖品为已发放

**描述：**标记奖品为已发放

**请求URL：**

+ http://localhost:8880/yx/setIsGrant

**请求方式：**

+ POST

**请求参数：**

+ prizedrawId

**返回示例：**

```shell

```





## 报表管理